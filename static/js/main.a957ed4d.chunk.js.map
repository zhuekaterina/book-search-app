{"version":3,"sources":["components/SearchForm.js","components/Header.js","components/Snippet.js","components/NoResultsSnippet.js","components/SnippetsContainer.js","components/Footer.js","components/PopupWithBook.js","utils/api.js","utils/utils.js","components/App.js","reportWebVitals.js","index.js"],"names":["SearchForm","props","timeOut","React","useState","inputValue","setInputValue","handleSubmit","onSubmit","handleFormSubmit","evt","preventDefault","className","onKeyUp","clearTimeout","setTimeout","onKeyDown","onChange","target","value","placeholder","onClick","Header","Snippet","onOpenPopup","book","cover","onChosenBook","bookPath","src","alt","title","author","NoResultsSnippet","SnippetsContainer","isEmpty","books","map","coverId","key","Footer","date","Date","getFullYear","PopupWithBook","isOpened","type","name","onClose","bookInfo","publishers","isbn10","isbn13","href","rel","api","baseUrl","this","_baseUrl","res","ok","json","Promise","reject","status","request","fetch","then","_getResStatus","App","popupIsOpened","setPopupOpened","bookList","setBookList","selectedBook","setSelectedBook","bookListEmpty","setBookListEmpty","inputValueForSnippetNoResults","setInputValueForSnippetNoResults","selectedBookData","setSelectedBookData","getBookList","data","numFound","docs","author_name","first_publish_year","cover_edition_key","edition_key","catch","err","console","log","getBook","publish_date","isbn_10","isbn_13","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a957ed4d.chunk.js","sourcesContent":["import React from 'react';\n\nfunction SearchForm(props) {\n\n    const [inputValue, setInputValue] = React.useState('');\n\n    let timeOut;\n\n    function handleKeyUp() {\n        clearTimeout(timeOut);\n        timeOut = setTimeout(handleSubmit, 1000);\n    }\n\n    function handleKeyDown() {\n        clearTimeout(timeOut);\n    }\n\n    function handleInputChange(evt) {\n        evt.preventDefault();\n        setInputValue(evt.target.value);\n    }\n\n    function handleSubmit() {\n        props.onSubmit(inputValue);\n    }\n\n    function handleFormSubmit(evt) {\n        evt.preventDefault();\n        handleSubmit();\n    }\n\n    return (\n        <section className=\"form-container\">\n            <form className=\"search-form\" onSubmit={handleFormSubmit}>\n                <input onKeyUp={handleKeyUp} onKeyDown={handleKeyDown} className=\"search-form__field\" onChange={handleInputChange} placeholder=\"Which book do you look for?\" />\n                <button className=\"search-form__button\" onClick={handleFormSubmit}></button>\n            </form>\n        </section>\n    );\n}\n  \nexport default SearchForm;\n","function Header() {\n    return (\n        <header className=\"header\">\n            <h1 className=\"header__title\">BOOKSHELVES</h1>\n            <h2 className=\"header__subtitle\">Book Search App</h2>\n        </header>\n    );\n}\n  \nexport default Header;\n","function Snippet(props) {\n\n    function openPopup() {\n        props.onOpenPopup(props.book);\n        if(props.cover) {\n            props.onChosenBook(props.cover);\n        } else {\n            props.onChosenBook(props.bookPath);\n        }\n    }\n\n\n    return (\n        <div className=\"snippet\" onClick={openPopup}>\n                <img src={\"https://covers.openlibrary.org/b/olid/\" + props.cover + \"-S.jpg\"} className=\"snippet__cover\" alt=\"#\" />\n                <div className=\"snippet__titles\">\n                    <p className=\"snippet__name\">{props.title}</p>\n                    <p className=\"snippet__author\">{`by ${props.author}`}</p>\n                </div>\n        </div>\n    );\n}\n  \nexport default Snippet;","function NoResultsSnippet(props) {\n\n    return (\n        <div className=\"snippet snippet-no-results\" >\n                <p className=\"snippet-no-results__text\">Could not find a book with a name starting with </p>\n                <p className=\"snippet-no-results__title\">{`\"${props.inputValue}\"`}</p>\n        </div>\n    );\n}\n  \nexport default NoResultsSnippet;","import Snippet from './Snippet';\nimport NoResultsSnippet from './NoResultsSnippet';\n\nfunction SnippetsContainer(props) {\n\n    return (\n        <section className=\"snippets-container\">\n            {\n                props.isEmpty\n                ? <NoResultsSnippet \n                    inputValue={props.inputValue}/>\n                : props.books.map((book) => (\n                    <Snippet \n                        key={book.key}\n                        book={book}\n                        bookPath={book.bookPath}\n                        title={book.title}\n                        author={book.author}\n                        cover={book.coverId}\n                        onOpenPopup={props.onOpenPopup}\n                        onChosenBook={props.onChosenBook}\n                    />\n                ))\n            }\n        </section>\n    );\n}\n  \nexport default SnippetsContainer;\n","function Footer() {\n    const date = new Date();\n\n    return (\n        <footer className=\"footer\">\n            <p className=\"footer__copyright\">&copy; {date.getFullYear()} Bookshelves</p>\n        </footer>\n    );\n}\n  \nexport default Footer;\n","function PopupWithBook(props) {\n\n    return (\n        <div className={`popup-book ${props.isOpened && 'popup-book_opened'}`}>\n            <figure className=\"popup-book__container\">\n                <button type=\"button\" className=\"popup-book__close-button\" name=\"close-button\" onClick={props.onClose}></button>\n                <img className=\"popup-book__image\" src={\"https://covers.openlibrary.org/b/olid/\" + props.book.coverId + \"-L.jpg\"} alt=\"#\" />\n                <div className=\"popup-book__titles\">\n                    <p className=\"popup-book__title popup-book__name popup-book__title_bold\">{props.book.title}</p>\n                    <p className=\"popup-book__title popup-book__author\">{`by ${props.book.author}`}</p>\n                    <p className=\"popup-book__title popup-book__date\">{`Published in ${props.bookInfo.date}`}</p>\n                    <p className=\"popup-book__title popup-book__publishers\">by {props.bookInfo.publishers}</p>\n                    <p className=\"popup-book__title popup-book__isbn\">ISBN 10: {props.bookInfo.isbn10}</p>\n                    <p className=\"popup-book__title popup-book__isbn\">ISBN 13: {props.bookInfo.isbn13}</p>\n                    <a className=\"popup-book__title popup-book__link\" href={`https://openlibrary.org/books/${props.book.bookPath}`} target=\"_blank\" rel=\"noreferrer\">{`https://openlibrary.org/books/${props.book.bookPath}`}</a>\n                </div>\n            </figure>\n        </div>\n    );\n}\n  \nexport default PopupWithBook;\n","import { apiInfo } from './utils.js';\n\nclass Api {\n    constructor({baseUrl}) {\n        this._baseUrl = baseUrl;\n    }\n\n    _getResStatus(res) {\n        if (res.ok) {\n            return res.json();\n          }\n          return Promise.reject(`Ошибка: ${res.status}`);\n    }\n\n    getBookList(request) {\n        return fetch(`${this._baseUrl}search.json?title=${request}`\n        )\n        .then(res => this._getResStatus(res));\n    }\n\n    getBook(request) {\n        return fetch(`${this._baseUrl}books/${request}.json`\n        )\n        .then(res => this._getResStatus(res));\n    }\n\n}\n\nexport const api = new Api(apiInfo);","export const apiInfo = {\n    baseUrl: 'https://openlibrary.org/',\n};","import React from 'react';\nimport SearchForm from './SearchForm';\nimport Header from './Header';\nimport SnippetsContainer from './SnippetsContainer';\nimport Footer from './Footer';\nimport PopupWithBook from './PopupWithBook';\nimport { api } from '../utils/api.js';\n\nfunction App() {\n\n  const [popupIsOpened, setPopupOpened] = React.useState(false);\n  const [bookList, setBookList] = React.useState([]);\n  const [selectedBook, setSelectedBook] = React.useState({});\n  const [bookListEmpty, setBookListEmpty] = React.useState(false);\n  const [inputValueForSnippetNoResults, setInputValueForSnippetNoResults] = React.useState('');\n  const [selectedBookData, setSelectedBookData] = React.useState({});\n\n  function searchBooks(inputValue) {\n    api\n    .getBookList(inputValue)\n    .then((data) => {\n      if (data.numFound === 0) {\n        setBookListEmpty(true);\n      } else {\n        setBookListEmpty(false);\n        const books = data.docs.map((book) => {\n          return {\n            title: book.title,\n            author: book.author_name || 'Unknown author',\n            date: book.first_publish_year,\n            coverId: book.cover_edition_key,\n            key: book.key,\n            bookPath: book.edition_key[0] || book.edition_key\n          }\n        })\n        setBookList(books);\n    }\n    })\n      .then(() => {\n        setInputValueForSnippetNoResults(inputValue);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function getBookInfo(key) {\n    api\n    .getBook(key)\n    .then((data) => {\n      setSelectedBookData({\n        date: data.publish_date,\n        isbn10: data.isbn_10 || 'unknown',\n        isbn13: data.isbn_13 || 'unknown',\n        publishers: data.publishers\n      })\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n  }\n\n  function handleOpenPopup(book) {\n    setPopupOpened(true);\n    setSelectedBook(book);\n  }\n\n  function handleClosePopup() {\n    setPopupOpened(false);\n  }\n\n  return (\n    <div className=\"page\">\n      <Header />\n      <SearchForm onSubmit={searchBooks} />\n      <SnippetsContainer onChosenBook={getBookInfo} onOpenPopup={handleOpenPopup} books={bookList} isEmpty={bookListEmpty} inputValue={inputValueForSnippetNoResults}/>\n      <Footer />\n      <PopupWithBook isOpened={popupIsOpened} onClose={handleClosePopup} book={selectedBook} bookInfo={selectedBookData} />\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App.js';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}