{"version":3,"sources":["components/SearchForm.js","components/Header.js","components/Snippet.js","components/NoResultsSnippet.js","components/SnippetsContainer.js","components/PopupWithBook.js","utils/api.js","utils/utils.js","components/App.js","reportWebVitals.js","index.js"],"names":["SearchForm","props","timeOut","React","useState","inputValue","setInputValue","handleSubmit","onSubmit","handleFormSubmit","evt","preventDefault","className","onKeyUp","clearTimeout","setTimeout","onKeyDown","onChange","target","value","placeholder","onClick","Header","Snippet","onOpenPopup","book","onChosenBook","path","src","cover","alt","title","author","NoResultsSnippet","SnippetsContainer","isEmpty","books","map","coverId","key","PopupWithBook","isOpened","type","name","onClose","bookInfo","date","publishers","isbn10","isbn13","href","rel","api","baseUrl","this","_baseUrl","res","ok","json","Promise","reject","status","request","fetch","then","_getResStatus","App","popupIsOpened","setPopupOpened","bookList","setBookList","selectedBook","setSelectedBook","bookListEmpty","setBookListEmpty","inputValueForSnippetNoResults","setInputValueForSnippetNoResults","selectedBookData","setSelectedBookData","getBookList","data","numFound","docs","author_name","cover_edition_key","seed","catch","err","console","log","getBook","publish_date","isbn_10","isbn_13","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0fd70be4.chunk.js","sourcesContent":["import React from 'react';\n\nfunction SearchForm(props) {\n\n    const [inputValue, setInputValue] = React.useState('');\n\n    let timeOut;\n\n    function handleKeyUp() {\n        clearTimeout(timeOut);\n        timeOut = setTimeout(handleSubmit, 1000);\n    }\n\n    function handleKeyDown() {\n        clearTimeout(timeOut);\n    }\n\n    function handleInputChange(evt) {\n        evt.preventDefault();\n        setInputValue(evt.target.value);\n    }\n\n    function handleSubmit() {\n        props.onSubmit(inputValue);\n    }\n\n    function handleFormSubmit(evt) {\n        evt.preventDefault();\n        handleSubmit();\n    }\n\n    return (\n        <section className=\"form-container\">\n            <form className=\"search-form\" onSubmit={handleFormSubmit}>\n                <input onKeyUp={handleKeyUp} onKeyDown={handleKeyDown} className=\"search-form__field\" onChange={handleInputChange} placeholder=\"Which book do you look for?\" />\n                <button className=\"search-form__button\" onClick={handleFormSubmit}></button>\n            </form>\n        </section>\n    );\n}\n  \nexport default SearchForm;\n","function Header() {\n    return (\n        <header className=\"header\">\n            <h1 className=\"header__title\">BOOKSHELVES</h1>\n            <h2 className=\"header__subtitle\">Book Search App</h2>\n        </header>\n    );\n}\n  \nexport default Header;\n","function Snippet(props) {\n\n    function openPopup() {\n        props.onOpenPopup(props.book);\n        props.onChosenBook(props.path);\n    }\n\n\n    return (\n        <div className=\"snippet\" onClick={openPopup}>\n                <img src={\"https://covers.openlibrary.org/b/olid/\" + props.cover + \"-S.jpg\"} className=\"snippet__cover\" alt=\"Small version of a book cover.\" />\n                <div className=\"snippet__titles\">\n                    <p className=\"snippet__name\">{props.title}</p>\n                    <p className=\"snippet__author\">{`by ${props.author}`}</p>\n                </div>\n        </div>\n    );\n}\n  \nexport default Snippet;","function NoResultsSnippet(props) {\n\n    return (\n        <div className=\"snippet snippet-no-results\" >\n                <p className=\"snippet-no-results__text\">Could not find a book with a name starting with </p>\n                <p className=\"snippet-no-results__title\">{`\"${props.inputValue}\"`}</p>\n        </div>\n    );\n}\n  \nexport default NoResultsSnippet;","import Snippet from './Snippet';\nimport NoResultsSnippet from './NoResultsSnippet';\n\nfunction SnippetsContainer(props) {\n\n    return (\n        <section className=\"snippets-container\">\n            {\n                props.isEmpty\n                ? <NoResultsSnippet \n                    inputValue={props.inputValue}/>\n                : props.books.map((book) => (\n                    <Snippet \n                        key={book.key}\n                        book={book}\n                        path={book.path}\n                        title={book.title}\n                        author={book.author}\n                        cover={book.coverId}\n                        onOpenPopup={props.onOpenPopup}\n                        onChosenBook={props.onChosenBook}\n                    />\n                ))\n            }\n        </section>\n    );\n}\n  \nexport default SnippetsContainer;\n","function PopupWithBook(props) {\n\n    return (\n        <div className={`popup-book ${props.isOpened && 'popup-book_opened'}`}>\n            <figure className=\"popup-book__container\">\n                <button type=\"button\" className=\"popup-book__close-button\" name=\"close-button\" onClick={props.onClose}></button>\n                <img className=\"popup-book__image\" src={\"https://covers.openlibrary.org/b/olid/\" + props.book.coverId + \"-L.jpg\"} alt=\"Book cover.\" />\n                <div className=\"popup-book__titles\">\n                    <p className=\"popup-book__title popup-book__name popup-book__title_bold\">{props.book.title}</p>\n                    <p className=\"popup-book__title popup-book__author\">{`by ${props.book.author}`}</p>\n                    <p className=\"popup-book__title popup-book__date\">{`Published in ${props.bookInfo.date}`}</p>\n                    <p className=\"popup-book__title popup-book__publishers\">by {props.bookInfo.publishers}</p>\n                    <p className=\"popup-book__title popup-book__isbn\">ISBN 10: {props.bookInfo.isbn10}</p>\n                    <p className=\"popup-book__title popup-book__isbn\">ISBN 13: {props.bookInfo.isbn13}</p>\n                    <a className=\"popup-book__title popup-book__link\" href={`https://openlibrary.org${props.book.path}`} target=\"_blank\" rel=\"noreferrer\">{`https://openlibrary.org${props.book.path}`}</a>\n                </div>\n            </figure>\n        </div>\n    );\n}\n  \nexport default PopupWithBook;\n","import { apiInfo } from './utils.js';\n\nclass Api {\n    constructor({baseUrl}) {\n        this._baseUrl = baseUrl;\n    }\n\n    _getResStatus(res) {\n        if (res.ok) {\n            return res.json();\n          }\n          return Promise.reject(`Ошибка: ${res.status}`);\n    }\n\n    getBookList(request) {\n        return fetch(`${this._baseUrl}/search.json?title=${request}`\n        )\n        .then(res => this._getResStatus(res));\n    }\n\n    getBook(request) {\n        return fetch(`${this._baseUrl}${request}.json`\n        )\n        .then(res => this._getResStatus(res));\n    }\n\n}\n\nexport const api = new Api(apiInfo);","export const apiInfo = {\n    baseUrl: 'https://openlibrary.org',\n};","import React from 'react';\nimport SearchForm from './SearchForm';\nimport Header from './Header';\nimport SnippetsContainer from './SnippetsContainer';\nimport PopupWithBook from './PopupWithBook';\nimport { api } from '../utils/api.js';\n\nfunction App() {\n\n  const [popupIsOpened, setPopupOpened] = React.useState(false);\n  const [bookList, setBookList] = React.useState([]);\n  const [selectedBook, setSelectedBook] = React.useState({});\n  const [bookListEmpty, setBookListEmpty] = React.useState(false);\n  const [inputValueForSnippetNoResults, setInputValueForSnippetNoResults] = React.useState('');\n  const [selectedBookData, setSelectedBookData] = React.useState({});\n\n  function searchBooks(inputValue) {\n    api\n    .getBookList(inputValue)\n    .then((data) => {\n      if (data.numFound === 0) {\n        setBookListEmpty(true);\n      } else {\n        setBookListEmpty(false);\n        const books = data.docs.map((book) => {\n          return {\n            title: book.title,\n            author: book.author_name || 'Unknown author',\n            coverId: book.cover_edition_key,\n            key: book.key,\n            path: book.seed[0]\n          }\n        })\n        setBookList(books);\n    }\n    })\n      .then(() => {\n        setInputValueForSnippetNoResults(inputValue);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function getBookInfo(key) {\n    api\n    .getBook(key)\n    .then((data) => {\n      setSelectedBookData({\n        date: data.publish_date,\n        isbn10: data.isbn_10 || 'unknown',\n        isbn13: data.isbn_13 || 'unknown',\n        publishers: data.publishers\n      })\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n  }\n\n  function handleOpenPopup(book) {\n    setPopupOpened(true);\n    setSelectedBook(book);\n  }\n\n  function handleClosePopup() {\n    setPopupOpened(false);\n  }\n\n  return (\n    <div className=\"page\">\n      <Header />\n      <SearchForm onSubmit={searchBooks} />\n      <SnippetsContainer \n        onChosenBook={getBookInfo}\n        onOpenPopup={handleOpenPopup}\n        books={bookList} \n        isEmpty={bookListEmpty} \n        inputValue={inputValueForSnippetNoResults}/>\n      <PopupWithBook \n        isOpened={popupIsOpened} \n        onClose={handleClosePopup} \n        book={selectedBook} \n        bookInfo={selectedBookData} />\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App.js';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}